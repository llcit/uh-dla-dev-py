<!-- harvester_collector.html -->
{% extends 'base.html' %}

{% block page_header %} Harvest Collector {% endblock page_header %}

{% block content %}
	{% if messages %}
		<ul class="messages">
		    {% for message in messages %}
		    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
		    {% endfor %}
		</ul>
	{% endif %}

	<form method="post" action=""> {% csrf_token %}

		<input name="repoid" type="hidden" value="{{ repository.identifier }}">
		<input name="collection_dict" type="hidden" value="{{ unregistered_collections }}">


		<h3>Currently harvested collections from {{ repository.name }} @ {{ repository.repository.name }}:</h3>
		{% for i in registered_collections %}
			<h5><input type="checkbox">Reharvest {{ i }}</h5>
		{% endfor %}

		<h3> Unharvested collections from {{ repository.name }} @ {{ repository.repository.name }}:</h3>
		{% for key, value in unregistered_collections.items %}
			<h5>
				<input name="set_id" type="radio" value="{{ key }}">
				Begin Harvesting {{ value }} <small>{{ key }}</small>
			</h5>
		{% endfor %}
		<input type="submit" value="submit">
	</form>
{% endblock content %}